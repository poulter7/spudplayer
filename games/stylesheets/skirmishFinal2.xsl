		<style type="text/css" media="all">						#cellL			{				width:  46px;				height: 46px;				float:	left;				border: 2px solid #FFC;				background-color: #CCCCCC;			}			#cellD			{				width:  46px;				height: 46px;				float:	left;				border: 2px solid #FFC;				background-color: #AAAAAA;			}			#hole			{				width:            46px;				height:           46px;				background-color: #FFFFCC;			}		</style>		<!-- Draw Board -->		<div id="main" style="position:relative; width:400px; height:400px">			<div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/>			<div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/>			<div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/>			<div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/>			<div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/>			<div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/>			<div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/>			<div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/><div id="cellD"/><div id="cellL"/>			<!-- Color selected cells (before drawing sprites!) -->			<xsl:for-each select="fact[relation='cellofflimits']">				<div>									<xsl:variable name="xPos" select="2 + (./argument[1]-1)*50"/>					<xsl:variable name="yPos" select="2 + (8-./argument[2])*50"/>											<xsl:attribute name="style">						<xsl:value-of select="concat('width:46px; height:46px; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>					</xsl:attribute>								<div id="hole"/>				</div>			</xsl:for-each>			<!-- Draw Pieces -->			<xsl:for-each select="fact[relation='location']">				<xsl:variable name="x" select="50 * (./argument[1]-1)"/>				<xsl:variable name="y" select="50 * (8-./argument[2])"/>								<div>					<xsl:attribute name="style">						<xsl:value-of select="concat('position:absolute; left:', $x ,'px; top:', $y ,'px; width:50px; height:50px;')"/>					</xsl:attribute>							<xsl:if test="./argument[3]='whitepawn'">						<img src="/docserver/gamemaster/images/wpawn.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='whiterook'">						<img src="/docserver/gamemaster/images/wrook.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='whiteknight'">						<img src="/docserver/gamemaster/images/wn.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='whitebishop'">						<img src="/docserver/gamemaster/images/wb.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='whiteking'">						<img src="/docserver/gamemaster/images/wking.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='whitequeen'">						<img src="/docserver/gamemaster/images/wq.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackpawn'">						<img src="/docserver/gamemaster/images/bpawn.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackrook'">						<img src="/docserver/gamemaster/images/brook.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackknight'">						<img src="/docserver/gamemaster/images/bn.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackbishop'">						<img src="/docserver/gamemaster/images/bb.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackking'">						<img src="/docserver/gamemaster/images/bking.gif"/>					</xsl:if>					<xsl:if test="./argument[3]='blackqueen'">						<img src="/docserver/gamemaster/images/bq.gif"/>					</xsl:if>				</div>							</xsl:for-each>		</div>		<!-- Write capture info -->		<div style="position:relative; width:400px; text-align:center">			Capture Count:<br/>			White: <xsl:value-of select="fact[relation='capturecount' and argument[1]='white']/argument[2]"/><br/>			Black: <xsl:value-of select="fact[relation='capturecount' and argument[1]='black']/argument[2]"/><br/>		</div>		