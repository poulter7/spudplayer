		<style type="text/css" media="all">			#cell			{				width:  36px;				height: 36px;				float:	left;				border: 2px solid #FFC;				background-color: #CCCCCC;			}			#fire			{				width:            36px;				height:           36px;				background-color: #FF3300;			}		</style>		<!-- Draw board -->		<div id="main" style="position:relative; width:320px; height:320px">			<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>						<div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/><div id="cell"/>									<!-- Color selected cells (before drawing sprites!) -->			<xsl:for-each select="fact[relation='location' and argument[1]='fire']">				<div>									<xsl:variable name="xPos" select="2 + (./argument[2]-1)*40"/>					<xsl:variable name="yPos" select="2 + (8-./argument[3])*40"/>											<xsl:attribute name="style">						<xsl:value-of select="concat('width:36px; height:36px; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>					</xsl:attribute>								<xsl:if test="./argument[1]='fire'">						<div id="fire"/>					</xsl:if>				</div>			</xsl:for-each>			<!-- Draw Bombs -->			<xsl:for-each select="fact[relation='location' and substring(argument[1],1,4)='bomb']">				<div>									<xsl:variable name="xPos" select="16 + (./argument[2]-1)*40"/>					<xsl:variable name="yPos" select="16 + (8-./argument[3])*40"/>													<xsl:if test="./argument[1]='bomb3' or ./argument[1]='bomb2'">						<xsl:attribute name="style">							<xsl:value-of select="concat('width:8px; height:8px; background-color:#99FF66; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>						</xsl:attribute>					</xsl:if>									<xsl:if test="./argument[1]='bomb1'">						<xsl:attribute name="style">							<xsl:value-of select="concat('width:8px; height:8px; background-color:#FFCC00; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>						</xsl:attribute>					</xsl:if>									<xsl:if test="./argument[1]='bomb0'">						<xsl:attribute name="style">							<xsl:value-of select="concat('width:8px; height:8px; background-color:#FF3300; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>						</xsl:attribute>					</xsl:if>								</div>			</xsl:for-each>						<!-- Draw sprites -->			<xsl:for-each select="fact[relation='location']">				<div>									<xsl:variable name="xPos" select="2 + (./argument[2]-1)*40"/>					<xsl:variable name="yPos" select="2 + (8-./argument[3])*40"/>													<xsl:attribute name="style">						<xsl:value-of select="concat('width:40px; height:40px; position:absolute; left:', $xPos ,'px; top:', $yPos ,'px;')"/>					</xsl:attribute>								<xsl:if test="./argument[1]='bomberman'">						<img src="/docserver/gamemaster/images/redMan.gif"/>					</xsl:if>					<xsl:if test="./argument[1]='bomberwoman'">						<img src="/docserver/gamemaster/images/blueMan.gif"/>					</xsl:if>							</div>			</xsl:for-each>			<!-- Draw horizontal walls -->			<xsl:for-each select="fact[relation='blockednorth' and argument[2]!='8']">				<div>					<xsl:variable name="xPos" select="-2 + (./argument[1]-1)*40"/>					<xsl:variable name="yPos" select="-2 + (8-./argument[2])*40"/>												<xsl:attribute name="style">						<xsl:value-of select="concat('position:absolute; left:', $xPos ,'px; top:', $yPos ,'px; width:44px; height:4px; background-color: #666666')"/>					</xsl:attribute>					</div>			</xsl:for-each>			<!-- Draw vertical walls -->			<xsl:for-each select="fact[relation='blockedeast' and argument[1]!='8']">				<div>					<xsl:variable name="xPos" select="-2 + (./argument[1])*40"/>					<xsl:variable name="yPos" select="-2 + (8-./argument[2])*40"/>												<xsl:attribute name="style">						<xsl:value-of select="concat('position:absolute; left:', $xPos ,'px; top:', $yPos ,'px; height:44px; width:4px; background-color: #666666')"/>					</xsl:attribute>					</div>			</xsl:for-each>		</div>		